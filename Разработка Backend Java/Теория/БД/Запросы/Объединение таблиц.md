## Логические соединения (JOIN) — кратко и чётко

|JOIN|Что возвращаем|Короткий пример|
|---|---|---|
|`INNER`|Совпадения в обеих таблицах|`… FROM emp INNER JOIN dept USING (dept_id);`|
|`LEFT [OUTER]`|Все строки слева + совпадения справа|`… FROM emp LEFT JOIN dept USING (dept_id);`|
|`RIGHT [OUTER]`|Все строки справа + совпадения слева|`… FROM emp RIGHT JOIN dept USING (dept_id);`|
|`FULL [OUTER]`|Объединение LEFT + RIGHT|`… FROM emp FULL JOIN dept USING (dept_id);`|
|`CROSS`|Декартово произведение (без ON)|`… FROM emp CROSS JOIN dept;`|
|`NATURAL`|`INNER` по одноимённым столбцам|`… FROM emp NATURAL JOIN dept;`|
|`… JOIN LATERAL`|Для каждой строки слева запускаем под‑запрос/функцию|`… FROM dept d LEFT JOIN LATERAL (SELECT * FROM emp e WHERE e.dept_id=d.dept_id LIMIT 2) e ON TRUE;`|
|`SELF JOIN`|Таблица соединяется сама с собой|`… FROM emp e LEFT JOIN emp m ON e.manager_id=m.emp_id;`|

Полные примеры с данными, `EXPLAIN ANALYZE` и советами по индексам были в предыдущем сообщении; поэтому здесь не дублирую. Если нужны дополнительные детали (например, анти‑/семи‑JOIN через `NOT EXISTS` и `EXISTS`) — скажите, пришлю.